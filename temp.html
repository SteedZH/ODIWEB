<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Using D3</title>
        <!-- You need this line if you're NOT using a Node server -->
        <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
    </head>
    <body>
        <script>
            d3.csv("people.csv",
    //Then, we can "clean up" the data before we use it
    function(data) {
        return {
            //If we're not interested in the id field, we don't have to store it,
            //but we can store the name
            name: data["name"],

            //Maybe we don't care about the code for each colour? Here, we remove the last part of the string,
            //and only keep the bit we're interested in
            colour: data["favourite colour"].split(" ")[0],

            //Here we use the "+" symbol to make this a number, not a string
            //This means, for example, we can more easily calculate the average number of pets
            pets: data["number of pets"]
        };
    },

    //And just like before, this is the "callback" where we do something with the data
    function(error, data) {
        //First check for errors
        if (error){
            console.log("ERROR: ");
            console.log(error);
            return;
        }

        //Again, we're just going to print the data to the console for now
        //Try this out, and see how it's different from the JSON data!
        console.log(data);
    }
);
        </script>
    </body>
</html>